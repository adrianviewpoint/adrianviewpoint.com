---
import Button from './Button.astro';

interface Props {
  title: string;
  description: string;
  primaryButton?: {
    label: string;
  };
  secondaryButton?: {
    label: string;
  };
}

const { title, description, primaryButton, secondaryButton } = Astro.props;
---

<section class="mb-20" data-hero-banner>
  <h1 class="text-5xl md:text-6xl font-bold mb-6 text-primary">
    {title}
  </h1>
  <p class="text-xl text-secondary mb-8 max-w-2xl">
    {description}
  </p>
{(primaryButton || secondaryButton) && (
  <div class="flex gap-4">
    {primaryButton && (
      <Button variant="primary" label={primaryButton.label} dataAttr="hero-primary" />
    )}
    {secondaryButton && (
      <Button variant="secondary" label={secondaryButton.label} dataAttr="hero-secondary" />
    )}
  </div>
)}
</section>

<script>
  const heroSection = document.querySelector('[data-hero-banner]');
  if (heroSection) {
    heroSection.addEventListener('buttonClick', (event) => {
      const { dataAttr } = (event as CustomEvent).detail;
      if (dataAttr === 'hero-primary') {
        heroSection.dispatchEvent(new CustomEvent('primaryClick', { bubbles: true }));
      } else if (dataAttr === 'hero-secondary') {
        heroSection.dispatchEvent(new CustomEvent('secondaryClick', { bubbles: true }));
      }
    });
  }
</script>